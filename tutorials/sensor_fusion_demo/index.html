
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://TannerTorrey3.github.io/DSG-JIT/tutorials/sensor_fusion_demo/">
      
      
        <link rel="prev" href="../range_sensor_dsg/">
      
      
        <link rel="next" href="../sensor_dsg_mapping/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Sensor Fusion Sandbox - Camera, LiDAR, and IMU Streams - DSG-JIT</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tutorial-sensor-fusion-sandbox-camera-lidar-and-imu-streams" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="DSG-JIT" class="md-header__button md-logo" aria-label="DSG-JIT" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DSG-JIT
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Sensor Fusion Sandbox - Camera, LiDAR, and IMU Streams
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="teal"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/TannerTorrey3/DSG-JIT" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    TannerTorrey3/DSG-JIT
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DSG-JIT" class="md-nav__button md-logo" aria-label="DSG-JIT" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DSG-JIT
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/TannerTorrey3/DSG-JIT" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    TannerTorrey3/DSG-JIT
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../benchmarks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Benchmarks
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../roadmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Roadmap
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Glossary
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/core/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/slam/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SLAM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sensors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sensors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/optimization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Optimization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/scene_graph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scene Graph
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/world/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    World Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/datasets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Datasets
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Tutorials
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorials
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Core Concepts
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Core Concepts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mini_world/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mini World Factor Graph
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manifold_geometry_se3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manifold Geometry SE(3)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scene_graph_world/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Building a Semantic Scene Graph World
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scene_graph_objects/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Working with Objects in Scene Graphs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../differentiable_voxel_obs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Differentiable Voxel Observations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../visual_factor_graph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Visualizing a Factor Graph in 3D
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scenegraph_3d/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3D Scene Graph Construction & Visualization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scenegraph_demo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scene Graph Demo - Rooms, Places, Poses, and Objects
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dynamic_scenegraph_demo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dynamic Scene Graph Demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" >
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    SE(3) & SLAM
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    SE(3) & SLAM
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manifold_geometry_se3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manifold Geometry SE(3)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scene_graph_world/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Building a Semantic Scene Graph World
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dynamic_trajectories/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dynamic Trajectories
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../differentiable_se3_odom_chain/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Differentiable SE(3) Odometry Chain
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scenegraph_type_weights/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Learnable Factor-Type Weights in a Scene Graph
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hybrid_se3_voxel_joint_learning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hybrid SE(3) & Voxel Joint Parameter Learning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hybrid_dsg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hybrid Differentiable Scene Graphs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../visual_factor_graph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Visualizing a Factor Graph in 3D
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scenegraph_3d/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3D Scene Graph Construction & Visualization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dynamic_scenegraph_demo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dynamic Scene Graph Demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sliding_window/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sliding‑Window Optimization with Active Templates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4" >
        
          
          <label class="md-nav__link" for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Voxel Grids & Spatial Fields
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Voxel Grids & Spatial Fields
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../differentiable_voxel_obs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Differentiable Voxel Observations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../multi_voxel_param/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-Voxel Parameter Optimization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../trainer_voxel_point_multi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-Voxel Point Observation Learning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../multi_voxel_param_weight/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Joint Learning of Voxel Observation Parameters & Type Weights
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hybrid_se3_voxel_joint_learning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hybrid SE(3) & Voxel Joint Parameter Learning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hybrid_dsg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hybrid Differentiable Scene Graphs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_5" >
        
          
          <label class="md-nav__link" for="__nav_8_5" id="__nav_8_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Static Scene Graphs
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Static Scene Graphs
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scene_graph_world/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Building a Semantic Scene Graph World
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scene_graph_objects/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Working with Objects in Scene Graphs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scene_graph_objects_jit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scene Graph Objects (JIT)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dynamic_trajectories/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dynamic Trajectories
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scenegraph_demo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scene Graph Demo - Rooms, Places, Poses, and Objects
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_6" >
        
          
          <label class="md-nav__link" for="__nav_8_6" id="__nav_8_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Dynamic Scene Graphs
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Dynamic Scene Graphs
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scenegraph_type_weights/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Learnable Factor-Type Weights in a Scene Graph
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../trainer_voxel_point_multi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-Voxel Point Observation Learning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hybrid_se3_voxel_joint_learning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hybrid SE(3) & Voxel Joint Parameter Learning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hybrid_dsg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hybrid Differentiable Scene Graphs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scenegraph_3d/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3D Scene Graph Construction & Visualization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dynamic_scenegraph_demo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dynamic Scene Graph Demo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../range_sensor_dsg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Range Sensor Dynamic Scene Graph
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sensor_dsg_mapping/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sensor DSG Mapping (End-to-End)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sliding_window/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sliding‑Window Optimization with Active Templates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_7" checked>
        
          
          <label class="md-nav__link" for="__nav_8_7" id="__nav_8_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sensors & Fusion
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sensors & Fusion
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../range_sensor_dsg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Range Sensor Dynamic Scene Graph
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Sensor Fusion Sandbox - Camera, LiDAR, and IMU Streams
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Sensor Fusion Sandbox - Camera, LiDAR, and IMU Streams
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-synthetic-sensor-hardware" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Synthetic Sensor “Hardware”
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-wrapping-streams-with-functionstream" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Wrapping Streams with FunctionStream
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-from-raw-samples-to-measurements" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. From Raw Samples to Measurements
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-sensorfusionmanager-and-callbacks" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. SensorFusionManager and Callbacks
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-toyimuintegrator-a-minimal-1d-imu-filter" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. ToyImuIntegrator: A Minimal 1D IMU Filter
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-running-the-simulation-loop" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Running the Simulation Loop
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-visualizing-the-1d-trajectory" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Visualizing the 1D Trajectory
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-where-to-go-next" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Where to Go Next
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sensor_dsg_mapping/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sensor DSG Mapping (End-to-End)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_8" >
        
          
          <label class="md-nav__link" for="__nav_8_8" id="__nav_8_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Learning & Hybrid Modules
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Learning & Hybrid Modules
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../multi_voxel_param/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-Voxel Parameter Optimization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../differentiable_se3_odom_chain/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Differentiable SE(3) Odometry Chain
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../learn_type_weights/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Learning Factor-Type Weights
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scenegraph_type_weights/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Learnable Factor-Type Weights in a Scene Graph
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../trainer_voxel_point_multi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-Voxel Point Observation Learning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../multi_voxel_param_weight/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Joint Learning of Voxel Observation Parameters & Type Weights
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hybrid_se3_voxel_joint_learning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hybrid SE(3) & Voxel Joint Parameter Learning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hybrid_dsg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hybrid Differentiable Scene Graphs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_9" >
        
          
          <label class="md-nav__link" for="__nav_8_9" id="__nav_8_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    JAX & JIT
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    JAX & JIT
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scene_graph_objects_jit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scene Graph Objects (JIT)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../differentiable_voxel_obs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Differentiable Voxel Observations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../visual_factor_graph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Visualizing a Factor Graph in 3D
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sliding_window/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sliding‑Window Optimization with Active Templates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-synthetic-sensor-hardware" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Synthetic Sensor “Hardware”
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-wrapping-streams-with-functionstream" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Wrapping Streams with FunctionStream
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-from-raw-samples-to-measurements" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. From Raw Samples to Measurements
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-sensorfusionmanager-and-callbacks" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. SensorFusionManager and Callbacks
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-toyimuintegrator-a-minimal-1d-imu-filter" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. ToyImuIntegrator: A Minimal 1D IMU Filter
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-running-the-simulation-loop" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Running the Simulation Loop
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-visualizing-the-1d-trajectory" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Visualizing the 1D Trajectory
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-where-to-go-next" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Where to Go Next
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="tutorial-sensor-fusion-sandbox-camera-lidar-and-imu-streams">Tutorial: Sensor Fusion Sandbox - Camera, LiDAR, and IMU Streams</h1>
<p><strong>Categories:</strong> Sensors &amp; Fusion</p>
<h2 id="overview">Overview</h2>
<p>This tutorial walks through a minimal <strong>sensor–fusion sandbox</strong> built on top of DSG‑JIT’s <code>sensors.*</code> layer.<br />
The goal is to show how to:</p>
<ul>
<li>Define simple <strong>synthetic sensor streams</strong> for a camera, LiDAR, and IMU.</li>
<li>Wrap them in <code>FunctionStream</code> objects so they look like real hardware.</li>
<li>Register each stream with a <code>SensorFusionManager</code>.</li>
<li>Attach a callback (<code>ToyImuIntegrator</code>) that consumes IMU measurements and produces a toy 1D fused pose.</li>
<li>Inspect the fused pose and visualize the integrated trajectory.</li>
</ul>
<p>This experiment focuses purely on the <strong>sensor layer</strong>; it does not yet create SLAM factors or update a <code>WorldModel</code> / <code>SceneGraphWorld</code>. Think of it as a clean sandbox for getting comfortable with DSG‑JIT’s sensor APIs before wiring them into the rest of the stack.</p>
<hr />
<h2 id="1-synthetic-sensor-hardware">1. Synthetic Sensor “Hardware”</h2>
<p>Instead of reading from real devices or log files, the experiment defines three <strong>generator-style read functions</strong>:</p>
<ul>
<li><code>make_camera_read_fn(landmark_ids)</code></li>
<li><code>make_lidar_read_fn()</code></li>
<li><code>make_imu_read_fn()</code></li>
</ul>
<p>Each one returns a <code>read()</code> callable that behaves like a simple hardware driver:</p>
<ul>
<li>Every call to <code>read()</code> returns a <strong>raw sample dictionary</strong>.</li>
<li>When the underlying sequence is exhausted (for the camera), it returns <code>None</code> to signal <strong>end-of-stream</strong>.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">make_camera_read_fn</span><span class="p">(</span><span class="n">landmark_ids</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return a generator-style read() function that yields synthetic </span>
<span class="sd">    bearing measurements compatible with raw_sample_to_camera_measurement.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">samples</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;t&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
            <span class="s2">&quot;frame_id&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;bearings&quot;</span><span class="p">:</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>    <span class="c1"># bearing to landmark 0</span>
                    <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>    <span class="c1"># bearing to landmark 1</span>
                <span class="p">],</span>
                <span class="n">dtype</span><span class="o">=</span><span class="n">jnp</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;landmark_ids&quot;</span><span class="p">:</span> <span class="n">landmark_ids</span><span class="p">,</span>
            <span class="s2">&quot;sensor_pose&quot;</span><span class="p">:</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">jnp</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;t&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
            <span class="s2">&quot;frame_id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;bearings&quot;</span><span class="p">:</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
                    <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
                <span class="p">],</span>
                <span class="n">dtype</span><span class="o">=</span><span class="n">jnp</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;landmark_ids&quot;</span><span class="p">:</span> <span class="n">landmark_ids</span><span class="p">,</span>
            <span class="s2">&quot;sensor_pose&quot;</span><span class="p">:</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">jnp</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span>
        <span class="p">},</span>
    <span class="p">]</span>

    <span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">samples</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>  <span class="c1"># signals end of stream</span>

    <span class="k">return</span> <span class="n">read</span>
</code></pre></div>
<p>Key idea: the returned dictionaries are <strong>raw samples</strong>, not <code>CameraMeasurement</code> objects yet. They are shaped so that they can be handed to the camera converter:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">dsg_jit.sensors.conversion</span><span class="w"> </span><span class="kn">import</span> <span class="n">raw_sample_to_camera_measurement</span>
</code></pre></div>
<p>The LiDAR and IMU streams follow the same pattern:</p>
<ul>
<li><strong>LiDAR</strong>: emits a scan at 10 Hz (<code>t += 0.1</code>) with fixed ranges ≈ 5 m and angles from –45 to +45 degrees.</li>
<li><strong>IMU</strong>: emits at 20 Hz (<code>t += 0.05</code>) with:</li>
<li>constant acceleration <code>a = [0.5, 0, 0]</code> m/s²,</li>
<li>zero angular velocity,</li>
<li>and a scalar <code>dt = 0.05</code>.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">make_lidar_read_fn</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">callable</span><span class="p">:</span>
    <span class="n">t</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">nonlocal</span> <span class="n">t</span>
        <span class="n">t</span> <span class="o">+=</span> <span class="mf">0.1</span>  <span class="c1"># 10 Hz</span>
        <span class="n">num_beams</span> <span class="o">=</span> <span class="mi">16</span>
        <span class="n">angles</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span> <span class="n">num_beams</span><span class="p">)</span>
        <span class="n">ranges</span> <span class="o">=</span> <span class="mf">5.0</span> <span class="o">*</span> <span class="n">jnp</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">angles</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">jnp</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;t&quot;</span><span class="p">:</span> <span class="n">t</span><span class="p">,</span>
            <span class="s2">&quot;frame_id&quot;</span><span class="p">:</span> <span class="s2">&quot;lidar0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;angles&quot;</span><span class="p">:</span> <span class="n">angles</span><span class="p">,</span>
            <span class="s2">&quot;ranges&quot;</span><span class="p">:</span> <span class="n">ranges</span><span class="p">,</span>
            <span class="s2">&quot;rays&quot;</span><span class="p">:</span> <span class="n">jnp</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">angles</span><span class="p">,</span> <span class="n">ranges</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="k">return</span> <span class="n">read</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">make_imu_read_fn</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">callable</span><span class="p">:</span>
    <span class="n">t</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">read</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">nonlocal</span> <span class="n">t</span>
        <span class="n">t</span> <span class="o">+=</span> <span class="mf">0.05</span>  <span class="c1"># 20 Hz</span>
        <span class="n">dt</span> <span class="o">=</span> <span class="mf">0.05</span>
        <span class="n">accel</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">jnp</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
        <span class="n">gyro</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">jnp</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;t&quot;</span><span class="p">:</span> <span class="n">t</span><span class="p">,</span>
            <span class="s2">&quot;dt&quot;</span><span class="p">:</span> <span class="n">dt</span><span class="p">,</span>
            <span class="s2">&quot;frame_id&quot;</span><span class="p">:</span> <span class="s2">&quot;imu0&quot;</span><span class="p">,</span>
            <span class="s2">&quot;accel&quot;</span><span class="p">:</span> <span class="n">accel</span><span class="p">,</span>
            <span class="s2">&quot;gyro&quot;</span><span class="p">:</span> <span class="n">gyro</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="k">return</span> <span class="n">read</span>
</code></pre></div>
<p>These functions are deliberately simple: they isolate the <strong>stream interface</strong> (a <code>read()</code> function) from the rest of the system.</p>
<hr />
<h2 id="2-wrapping-streams-with-functionstream">2. Wrapping Streams with <code>FunctionStream</code></h2>
<p>DSG‑JIT represents a sensor stream as an object that it can poll for new samples. For synthetic streams, the <code>FunctionStream</code> wrapper is perfect:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">dsg_jit.sensors.streams</span><span class="w"> </span><span class="kn">import</span> <span class="n">FunctionStream</span>

<span class="n">landmark_ids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">cam_stream</span> <span class="o">=</span> <span class="n">FunctionStream</span><span class="p">(</span><span class="n">make_camera_read_fn</span><span class="p">(</span><span class="n">landmark_ids</span><span class="o">=</span><span class="n">landmark_ids</span><span class="p">))</span>
<span class="n">lidar_stream</span> <span class="o">=</span> <span class="n">FunctionStream</span><span class="p">(</span><span class="n">make_lidar_read_fn</span><span class="p">())</span>
<span class="n">imu_stream</span> <span class="o">=</span> <span class="n">FunctionStream</span><span class="p">(</span><span class="n">make_imu_read_fn</span><span class="p">())</span>
</code></pre></div>
<p>Each <code>FunctionStream</code> holds onto the underlying <code>read()</code> function and exposes a standard interface that <code>SensorFusionManager</code> knows how to call.</p>
<p>If you later want to replace synthetic data with recorded logs, you can swap <code>FunctionStream</code> for something like <code>FileRangeStream</code> without touching the rest of the experiment.</p>
<hr />
<h2 id="3-from-raw-samples-to-measurements">3. From Raw Samples to Measurements</h2>
<p>The raw dictionaries produced by the <code>read()</code> functions are converted to typed measurements via functions in <code>sensors.conversion</code>:</p>
<ul>
<li><code>raw_sample_to_camera_measurement</code></li>
<li><code>raw_sample_to_lidar_measurement</code></li>
<li><code>raw_sample_to_imu_measurement</code></li>
</ul>
<p>These converters know how to interpret keys like <code>"t"</code>, <code>"frame_id"</code>, <code>"bearings"</code>, <code>"ranges"</code>, <code>"accel"</code>, <code>"gyro"</code>, and <code>dt</code>, and they produce instances of:</p>
<ul>
<li><code>CameraMeasurement</code></li>
<li><code>LidarMeasurement</code></li>
<li><code>IMUMeasurement</code></li>
</ul>
<p>The fusion manager takes a <strong>stream + converter</strong> pair for each sensor:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">dsg_jit.sensors.fusion</span><span class="w"> </span><span class="kn">import</span> <span class="n">SensorFusionManager</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">dsg_jit.sensors.conversion</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">raw_sample_to_camera_measurement</span><span class="p">,</span>
    <span class="n">raw_sample_to_lidar_measurement</span><span class="p">,</span>
    <span class="n">raw_sample_to_imu_measurement</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">fusion</span> <span class="o">=</span> <span class="n">SensorFusionManager</span><span class="p">()</span>

<span class="n">fusion</span><span class="o">.</span><span class="n">register_sensor</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;cam0&quot;</span><span class="p">,</span>
    <span class="n">modality</span><span class="o">=</span><span class="s2">&quot;camera&quot;</span><span class="p">,</span>
    <span class="n">stream</span><span class="o">=</span><span class="n">cam_stream</span><span class="p">,</span>
    <span class="n">converter</span><span class="o">=</span><span class="n">raw_sample_to_camera_measurement</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fusion</span><span class="o">.</span><span class="n">register_sensor</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;lidar0&quot;</span><span class="p">,</span>
    <span class="n">modality</span><span class="o">=</span><span class="s2">&quot;lidar&quot;</span><span class="p">,</span>
    <span class="n">stream</span><span class="o">=</span><span class="n">lidar_stream</span><span class="p">,</span>
    <span class="n">converter</span><span class="o">=</span><span class="n">raw_sample_to_lidar_measurement</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">fusion</span><span class="o">.</span><span class="n">register_sensor</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;imu0&quot;</span><span class="p">,</span>
    <span class="n">modality</span><span class="o">=</span><span class="s2">&quot;imu&quot;</span><span class="p">,</span>
    <span class="n">stream</span><span class="o">=</span><span class="n">imu_stream</span><span class="p">,</span>
    <span class="n">converter</span><span class="o">=</span><span class="n">raw_sample_to_imu_measurement</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<p>Why this step? It separates <strong>I/O concerns</strong> (reading dictionaries from a file or device) from <strong>measurement semantics</strong> (what fields are present and how to interpret them for SLAM, fusion, or learning).</p>
<hr />
<h2 id="4-sensorfusionmanager-and-callbacks">4. SensorFusionManager and Callbacks</h2>
<p>Once streams and converters are registered, the fusion manager becomes the hub for <strong>polling measurements</strong> and dispatching them to callbacks.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Pseudo-code shape:</span>
<span class="k">class</span><span class="w"> </span><span class="nc">SensorFusionManager</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">register_sensor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">modality</span><span class="p">,</span> <span class="n">stream</span><span class="p">,</span> <span class="n">converter</span><span class="p">):</span>
        <span class="o">...</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">register_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">):</span>
        <span class="o">...</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">poll_once</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="c1"># 1) poll each stream at most one sample</span>
        <span class="c1"># 2) convert raw samples to measurements</span>
        <span class="c1"># 3) invoke callbacks(meas) for all new measurements</span>
        <span class="c1"># 4) return the total number of new measurements</span>
</code></pre></div>
<p>In this experiment, we attach a single callback: <code>ToyImuIntegrator</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">integrator</span> <span class="o">=</span> <span class="n">ToyImuIntegrator</span><span class="p">(</span><span class="n">fusion</span><span class="p">)</span>
<span class="n">fusion</span><span class="o">.</span><span class="n">register_callback</span><span class="p">(</span><span class="n">integrator</span><span class="p">)</span>
</code></pre></div>
<p>Every time <code>poll_once()</code> retrieves a new <code>IMUMeasurement</code>, the integrator is called and updates a toy 1D pose estimate.</p>
<hr />
<h2 id="5-toyimuintegrator-a-minimal-1d-imu-filter">5. ToyImuIntegrator: A Minimal 1D IMU Filter</h2>
<p>The <code>ToyImuIntegrator</code> class demonstrates how to <strong>consume IMU measurements</strong>, maintain internal state, and optionally publish a fused pose back into the fusion manager.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ToyImuIntegrator</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Very simple 1D integrator using IMU measurements.</span>
<span class="sd">    This is *not* a real inertial filter; it is just a toy example.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fusion</span><span class="p">:</span> <span class="n">SensorFusionManager</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fusion</span> <span class="o">=</span> <span class="n">fusion</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mf">0.0</span>      <span class="c1"># position along x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vx</span> <span class="o">=</span> <span class="mf">0.0</span>     <span class="c1"># velocity along x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">history_t</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">history_x</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">meas</span><span class="p">:</span> <span class="n">BaseMeasurement</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">meas</span><span class="p">,</span> <span class="n">IMUMeasurement</span><span class="p">):</span>
            <span class="n">a_x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">meas</span><span class="o">.</span><span class="n">accel</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">dt</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">meas</span><span class="o">.</span><span class="n">dt</span><span class="p">)</span>

            <span class="c1"># Basic integration: v += a*dt, x += v*dt</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vx</span> <span class="o">+=</span> <span class="n">a_x</span> <span class="o">*</span> <span class="n">dt</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vx</span> <span class="o">*</span> <span class="n">dt</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">history_t</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">meas</span><span class="o">.</span><span class="n">timestamp</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">history_x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>

            <span class="n">pose_se3</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
                <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
                <span class="n">dtype</span><span class="o">=</span><span class="n">jnp</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fusion</span><span class="o">.</span><span class="n">record_fused_pose</span><span class="p">(</span>
                <span class="n">t</span><span class="o">=</span><span class="n">meas</span><span class="o">.</span><span class="n">timestamp</span><span class="p">,</span>
                <span class="n">pose_se3</span><span class="o">=</span><span class="n">pose_se3</span><span class="p">,</span>
                <span class="n">covariance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">source_counts</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;imu&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
            <span class="p">)</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">meas</span><span class="p">,</span> <span class="n">CameraMeasurement</span><span class="p">):</span>
            <span class="c1"># Log camera info (timestamp + image/bearing shape)</span>
            <span class="o">...</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">meas</span><span class="p">,</span> <span class="n">LidarMeasurement</span><span class="p">):</span>
            <span class="c1"># Log LiDAR mean range</span>
            <span class="o">...</span>
</code></pre></div>
<p>A few details to note:</p>
<ul>
<li>The callback is <strong>polymorphic</strong>: it inspects the type of <code>meas</code> and decides what to do.</li>
<li>For IMU data, it performs a <strong>simplified double integration</strong> along the x-axis and appends the result to a history buffer.</li>
<li>It uses <code>fusion.record_fused_pose(...)</code> to publish a fused pose so it can be retrieved later via <code>fusion.get_latest_pose()</code>.</li>
</ul>
<p>For camera and LiDAR measurements, this demo just prints a brief summary:</p>
<ul>
<li>Camera: timestamp and image (or bearing) shape.</li>
<li>LiDAR: timestamp and mean range.</li>
</ul>
<p>In a more advanced setup, this is exactly where you would add <strong>DSG factors</strong> (e.g., range factors, bearing factors, occupancy updates) or log them for later learning.</p>
<hr />
<h2 id="6-running-the-simulation-loop">6. Running the Simulation Loop</h2>
<p>The main function wires everything together and runs a short simulation:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># 1) Build streams</span>
    <span class="n">landmark_ids</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">cam_stream</span> <span class="o">=</span> <span class="n">FunctionStream</span><span class="p">(</span><span class="n">make_camera_read_fn</span><span class="p">(</span><span class="n">landmark_ids</span><span class="o">=</span><span class="n">landmark_ids</span><span class="p">))</span>
    <span class="n">lidar_stream</span> <span class="o">=</span> <span class="n">FunctionStream</span><span class="p">(</span><span class="n">make_lidar_read_fn</span><span class="p">())</span>
    <span class="n">imu_stream</span> <span class="o">=</span> <span class="n">FunctionStream</span><span class="p">(</span><span class="n">make_imu_read_fn</span><span class="p">())</span>

    <span class="c1"># 2) Construct fusion manager and register sensors</span>
    <span class="n">fusion</span> <span class="o">=</span> <span class="n">SensorFusionManager</span><span class="p">()</span>
    <span class="n">fusion</span><span class="o">.</span><span class="n">register_sensor</span><span class="p">(</span><span class="s2">&quot;cam0&quot;</span><span class="p">,</span> <span class="s2">&quot;camera&quot;</span><span class="p">,</span> <span class="n">cam_stream</span><span class="p">,</span> <span class="n">raw_sample_to_camera_measurement</span><span class="p">)</span>
    <span class="n">fusion</span><span class="o">.</span><span class="n">register_sensor</span><span class="p">(</span><span class="s2">&quot;lidar0&quot;</span><span class="p">,</span> <span class="s2">&quot;lidar&quot;</span><span class="p">,</span> <span class="n">lidar_stream</span><span class="p">,</span> <span class="n">raw_sample_to_lidar_measurement</span><span class="p">)</span>
    <span class="n">fusion</span><span class="o">.</span><span class="n">register_sensor</span><span class="p">(</span><span class="s2">&quot;imu0&quot;</span><span class="p">,</span> <span class="s2">&quot;imu&quot;</span><span class="p">,</span> <span class="n">imu_stream</span><span class="p">,</span> <span class="n">raw_sample_to_imu_measurement</span><span class="p">)</span>

    <span class="c1"># 3) Attach toy integrator</span>
    <span class="n">integrator</span> <span class="o">=</span> <span class="n">ToyImuIntegrator</span><span class="p">(</span><span class="n">fusion</span><span class="p">)</span>
    <span class="n">fusion</span><span class="o">.</span><span class="n">register_callback</span><span class="p">(</span><span class="n">integrator</span><span class="p">)</span>

    <span class="c1"># 4) Run a short simulation loop</span>
    <span class="n">num_steps</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_steps</span><span class="p">):</span>
        <span class="n">n_meas</span> <span class="o">=</span> <span class="n">fusion</span><span class="o">.</span><span class="n">poll_once</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">n_meas</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># In a real app, you might break when all streams are exhausted.</span>
            <span class="k">pass</span>

    <span class="c1"># 5) Inspect latest fused pose</span>
    <span class="n">fused</span> <span class="o">=</span> <span class="n">fusion</span><span class="o">.</span><span class="n">get_latest_pose</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">fused</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Latest fused pose (toy IMU integrator) ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;t = </span><span class="si">{</span><span class="n">fused</span><span class="o">.</span><span class="n">t</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;pose_se3 = </span><span class="si">{</span><span class="n">fused</span><span class="o">.</span><span class="n">pose_se3</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;source_counts = </span><span class="si">{</span><span class="n">fused</span><span class="o">.</span><span class="n">source_counts</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No fused pose produced.&quot;</span><span class="p">)</span>
</code></pre></div>
<p>The key call here is:</p>
<div class="highlight"><pre><span></span><code><span class="n">n_meas</span> <span class="o">=</span> <span class="n">fusion</span><span class="o">.</span><span class="n">poll_once</span><span class="p">()</span>
</code></pre></div>
<p>On each iteration, <code>SensorFusionManager</code>:</p>
<ol>
<li>Polls each registered <code>stream</code> at most once.</li>
<li>Converts any new raw samples into measurement objects via the provided converters.</li>
<li>Calls all registered callbacks with each measurement.</li>
</ol>
<p>You can control the simulated duration either by <code>num_steps</code> or by breaking when <code>n_meas == 0</code> consistently.</p>
<hr />
<h2 id="7-visualizing-the-1d-trajectory">7. Visualizing the 1D Trajectory</h2>
<p>The integrator stores time–position pairs inside <code>history_t</code> and <code>history_x</code>. At the end of the run, the experiment uses Matplotlib to plot the estimated trajectory:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="n">integrator</span><span class="o">.</span><span class="n">history_t</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

    <span class="n">ts</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">integrator</span><span class="o">.</span><span class="n">history_t</span><span class="p">)</span>
    <span class="n">xs</span> <span class="o">=</span> <span class="n">jnp</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">integrator</span><span class="o">.</span><span class="n">history_x</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">xs</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;o&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;time [s]&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;x position [m]&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Toy IMU-integrated 1D trajectory&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p>Because the acceleration is constant, the true motion would be a <strong>quadratic curve</strong> in time. The simple integrator tracks this approximate shape, giving you immediate visual feedback that the IMU callback is wired correctly.</p>
<hr />
<h2 id="8-where-to-go-next">8. Where to Go Next</h2>
<p>This sensor fusion sandbox is intentionally minimal. Once you are comfortable with:</p>
<ul>
<li>constructing streams,</li>
<li>converting raw samples into measurements,</li>
<li>using <code>SensorFusionManager</code>,</li>
<li>and writing callbacks like <code>ToyImuIntegrator</code>,</li>
</ul>
<p>you are ready to:</p>
<ul>
<li>Attach <strong>measurement factors</strong> into a <code>WorldModel</code> (e.g., range priors, bearing factors).</li>
<li>Use fused poses as the backbone for <strong>SceneGraphWorld</strong> or <strong>DynamicSceneGraph</strong> trajectories.</li>
<li>Swap synthetic streams with <strong>real datasets or ROS2 bridges</strong>.</li>
<li>Extend the callback to maintain a full <strong>state estimator</strong> instead of a toy 1D integrator.</li>
</ul>
<p>This experiment is meant to be your “hello world” for DSG‑JIT’s sensor fusion layer—simple enough to hack on quickly, but structured in the same way you would handle real sensor data in more advanced SLAM and learning setups.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.sections", "navigation.tracking", "content.code.annotate", "content.tabs.link", "content.code.copy", "search.highlight", "search.suggest"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>